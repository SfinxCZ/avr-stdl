#include <avr/io.h>
#include <avr/interrupt.h>
#include "lcd.h"

void port_init(void) {
	DDRA = 0x00;
	PORTA = 0x00;
	DDRB = 0x00;
	PORTB = 0x00;
	DDRC = 0xFF;
	PORTC = 0x00;
	DDRD = 0xF0;
	PORTD = 0x00;
}

//call this routine to initialize all peripherals
void init_devices(void) {
	cli(); //disable all interrupts
	port_init();
	LCD_init();

	MCUCR = 0x00;
	GICR = 0x00;
	TIMSK = 0x00; //timer interrupt sources
}

//******************* MAIN FUNCTION *******************
int main(void) {

	init_devices();

	const char * hi = " Hi, Welcome! ";

	LCD_DisplayString_F(1, 1, hi);

	while (1) {
	}

	return 0;
}
