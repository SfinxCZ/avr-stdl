/*
 * main.c
 *
 *  Created on: Oct 5, 2012
 *      Author: stiborek
 */

#include <avr/io.h>
#include <util/delay.h>
#include <lcd.h>

void port_init(void) {
	DDRA = 0x00;
	PORTA = 0x00;
	DDRB = 0x00;
	PORTB = 0x00;
	DDRC = 0xFF;
	PORTC = 0x00;
	DDRD = 0xF0;
	PORTD = 0x00;
}

//call this routine to initialize all peripherals
void init_devices(void) {
	CLI(); //disable all interrupts
	port_init();
	LCD_init();
	MCUCR = 0x00;
	TIMSK = 0x00; //timer interrupt sources
}

//******************* MAIN FUNCTION *******************
void main(void) {
	unsigned char PB_Status = 0xff, Change_Display = 0, Change_Display1 = 1;

	init_devices();

	while (1) {
		if (Change_Display != Change_Display1) {
			if (Change_Display == 0) {
				LCD_DisplayString_F(1, 1, " Hi, Welcome! ");
				LCD_DisplayString_F(2, 1, "Have a nice Day");
			} else {
				LCD_DisplayString_F(1, 1, " ATmega32 Board ");
				LCD_DisplayString_F(2, 1, " Starter's Kit ");
			}

			Change_Display1 = Change_Display;
		}

		Change_Display = ~Change_Display;

	}

}
